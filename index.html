<!DOCTYPE html>

<html>
  <head>
    <title>Tap Titans 2 Clan Raid Simulation</title>
    <style>

      .noselect {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }
      .card_row {
        display: inline-block;
      }
      .card {
        display: inline-block;
        position: relative;
        width: 150px;
        min-width: 150px;
        height: 150px;
        line-height: 150px;
        margin: 8px;
        padding: 0;
        text-align: center;
        border: 1px solid black;
        background-repeat: no-repeat;
        background-size: 150px 150px;
      }
      .button {
        text-align: center;
        border: 1px solid grey;
      }
      .inc {
        position: absolute;
        top: 0;
        width: inherit;
        height: 30px;
      }
      .dec {
        position: absolute;
        bottom: 0;
        width: inherit;
        height: 30px;
      }
      .level {
        text-align: center;
      }
      .selected {
        outline: 2px solid blue;
      }
      #Acid_Drench {
        background-image: url("placeholder.png");
      }
      #Blazing_Inferno {
        background-image: url("placeholder.png");
      }
      #Decaying_Strike {
        background-image: url("placeholder.png");
      }
      #Fusion_Bomb {
        background-image: url("placeholder.png");
      }
      #Grim_Shadow {
        background-image: url("placeholder.png");
      }
      #Radioactivity {
        background-image: url("placeholder.png");
      }
      #Thriving_Plague {
        background-image: url("placeholder.png");
      }
      #Clanship_Barrage {
        background-image: url("placeholder.png");
      }
      #Fragmentize {
        background-image: url("placeholder.png");
      }
      #Moon_Beam {
        background-image: url("placeholder.png");
      }
      #Purifying_Blast {
        background-image: url("placeholder.png");
      }
      #Razor_Wind {
        background-image: url("placeholder.png");
      }
      #Skull_Bash {
        background-image: url("placeholder.png");
      }
      #Whip_of_Lightning {
        background-image: url("placeholder.png");
      }
      #Ancestral_Favor {
        background-image: url("placeholder.png");
      }
      #Crushing_Instinct {
        background-image: url("placeholder.png");
      }
      #Inspired_Force {
        background-image: url("placeholder.png");
      }
      #Prismatic_Rift {
        background-image: url("placeholder.png");
      }
      #Rancid_Gas {
        background-image: url("placeholder.png");
      }
      #Soul_Fire {
        background-image: url("placeholder.png");
      }
      #Victory_March {
        background-image: url("placeholder.png");
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function(){
        var card_names = {
          "Burst" : ["Acid_Drench", "Blazing_Inferno", "Decaying_Strike", "Fusion_Bomb", "Grim_Shadow", "Radioactivity", "Thriving_Plague"],
          "Affliction" : ["Clanship_Barrage", "Fragmentize", "Moon_Beam", "Purifying_Blast", "Razor_Wind", "Skull_Bash", "Whip_of_Lightning"],
          "Support" : ["Ancestral_Favor", "Crushing_Instinct", "Inspired_Force", "Prismatic_Rift", "Rancid_Gas", "Soul_Fire", "Victory_March"]
        };
        for ( var card_type in card_names ) {
          var row = $("<div class='card_row' id='"+card_type+"'></div>");
          for ( var card_index in card_names[card_type] ) {
            var card = $("<div class='card' id='"+card_names[card_type][card_index]+"'></div>");
            card.append(
              "<div class='inc button noselect'></div>",
              "<label class='level noselect'>1</label>",
              "<div class='dec button noselect'></div>"
            );
            row.append(card);
          };
          $("#cards").append(row);
        };

        $(".card").click(function (e) {
          if($(e.target).hasClass('button')) return; // ignore child buttons
          $(this).toggleClass("selected");
        });

        $(".button").on("click", function(e) {
          var c = parseFloat($(this).parent().find("label").text());
          
          if ($(this).hasClass("inc")) {
            $(this).parent().find("label").text(c + 1);
            return;
          }
          if ($(this).hasClass("dec") && c > 1) {
            $(this).parent().find("label").text(c - 1);
            return;
          }

        });
      });

      function simulate() {
        alert("Simulating");
      }
   </script>
  </head>
  <body>
    <header>
      <h2>Clan Raid Simulation</h2>
    </header>

    <div id="cards"></div>
    <button class="noselect" onclick="simulate()">Simulate</button>

  </body>
</html>
